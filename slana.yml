name: chunky
footer:
  suffix: "Chunky says:"
  text: "enjoy and check out more info at http://chunky.io"
commands:
- name: init [name]
  more: Specify a custom name or go with the default generated name
  description: Create a new product
  executor: executors/init
  options:
  - name: template
    description: The product template to use
    default: starter
    type: string
  examples:
  - command: init MyProduct
    description: Create a new product using the default template
  - command: init MyProduct --template some-template
    description: Create a new product using the specified template

- name: start [platforms..]
  description: Start the packagers for one or more platforms
  more: The supported platforms are web and mobile
  executor: executors/start
  options:
  - name: mobile-packager-port
    description: Use a custom mobile packager port
    type: string
    default: 8081
  - name: web-packager-port
    description: Use a custom web packager port
    default: 8082
    type: string
  examples:
  - command: start
    description: Start all the packagers, using the default ports
  - command: start web mobile
    description: Start the web and mobile packagers, using the default ports
  - command: start mobile
    description: Start the mobile packager only, using the default mobile port
  - command: start web
    description: Start the web packager only, using the default web port
  - command: start --mobile-port 9200
    description: Start all the packagers, using the default web port and a custom mobile port
  - command: start mobile --mobile-port 9200
    description: Start the mobile packager only, using a custom mobile port

- name: run [platforms..]
  description: Run the product on one or more platforms
  more: The supported platforms are ios, android, web and site
  executor: executors/run
  options:
  - name: web-port
    description: Use a custom web app port
    default: 9091
    type: string
  - name: site-port
    description: Use a custom site port
    default: 9092
    type: string
  examples:
  - command: run
    description: Run the product on all the platforms
  - command: run ios
    description: Run the iOS app only
  - command: run android
    description: Run the Android app only
  - command: run web
    description: Run the Web app only
  - command: run site
    description: Run the Site only

- name: transform [transforms..]
  description: Apply transforms to the cloud data
  more: Specify one or more transforms or blank to apply all
  executor: executors/transform  
  options:
  - name: env
    description: The cloud environment to be transformed
    type: string
    default: dev
  - name: chunks
    description: One or more chunks to search for transforms
    type: array
  examples:
  - command: transform
    description: Apply all transforms from all chunks to the default dev cloud environment
  - command: transform --env staging
    description: Apply all transforms from all chunks to the staging cloud environment
  - command: transform posts --env production
    description: Apply only the posts transform if any, from each chunk to the production cloud environment
  - command: transform --chunks feed
    description: Apply all the transform from the feed chunk to the default dev cloud environment
  - command: transform posts --chunks feed
    description: Apply only the posts transform from the feed chunk to the default dev cloud environment
  - command: transform posts comments --chunks feed
    description: Apply only the posts and comments transforms from the feed chunk to the default dev cloud environment
  - command: transform messages --chunks friends inbox
    description: Apply only the messages transform from the friends and inbox chunks to the default dev cloud environment

- name: deploy [artifacts..]
  description: Deploy one or more product artifacts to the cloud
  more: The supported artifacts are functions and assets
  executor: executors/deploy
  options:
  - name: env
    description: The cloud environment where to deploy
    default: dev
    type: string
  - name: chunks
    description: One or more chunks to search for artifacts
    type: array
  examples:
  - command: deploy
    description: Deploy all artifacts from all chunks to the default dev cloud environment
  - command: deploy --env staging
    description: Deploy all artifacts from all chunks to the staging cloud environment
  - command: deploy functions
    description: Deploy only the cloud functions from all chunks to the default dev cloud environment
  - command: deploy assets
    description: Deploy only the assets from all chunks to the default dev cloud environment
  - command: deploy functions assets --env production
    description: Deploy the cloud functions and assets from all chunks to the production cloud environment
  - command: deploy functions --chunks friends inbox
    description: Deploy only the cloud functions from the friends and inbox chunks to the default dev cloud environment
  - command: deploy functions --chunks auth --env production
    description: Deploy only the cloud functions from the auth chunk to the production cloud environment
  
# - name: sync
#   description: Sync cloud data
#   executor: executors/run  
#   options:
#   - name: env
#     description: The cloud environment to be affected
#     type: string
